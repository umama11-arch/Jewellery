<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shopping Cart</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body{background:#FAF9F6; font-family:Segoe UI;}
.cart-box{background:white;padding:30px;border-radius:10px;box-shadow:0 5px 20px rgba(0,0,0,0.08);}
.remove-btn{background:red;color:white;border:none;padding:5px 10px;border-radius:5px;}
</style>
</head>
<body>
<div class="container mt-5">
<h2 class="mb-4">Shopping Cart</h2>
<div class="cart-box">
<ul id="cart-items" class="list-group mb-3"></ul>
<h4>Total: PKR <span id="cart-total">0</span></h4>
<button class="btn btn-success mt-3" onclick="checkout()">Checkout</button>
</div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const cartItems = document.getElementById("cart-items");
const cartTotal = document.getElementById("cart-total");

function renderCart(){
cartItems.innerHTML="";
let total=0;
cart.forEach((item,index)=>{
total += item.price * item.qty;
let li = document.createElement("li");
li.className="list-group-item d-flex justify-content-between align-items-center";
li.innerHTML=`${item.name} - PKR ${item.price} x ${item.qty} <button class="remove-btn" onclick="removeItem(${index})">Remove</button>`;
cartItems.appendChild(li);
});
cartTotal.innerText = total;
}

function removeItem(index){
cart.splice(index,1);
localStorage.setItem("cart",JSON.stringify(cart));
renderCart();
}

function checkout(){
if(cart.length===0){alert("Cart is empty"); return;}
let name=prompt("Enter your name");
let phone=prompt("Enter phone");
let address=prompt("Enter address");
if(name && phone && address){
alert("Order placed successfully");
localStorage.removeItem("cart");
cart=[];
renderCart();
}
}
// Update navbar cart count from cart page
function updateCartCount() {
  const count = cart.reduce((acc,item)=>acc+item.qty,0);
  localStorage.setItem("cartCount", count); // optional
  // Agar navbar same page par ho to update innerText
  const el = document.getElementById("cart-count");
  if(el) el.innerText = count;
}
renderCart();

</script>
</body>
</html>